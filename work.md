# PRTS Program

## 需求

- [ ] 自动识别不同的状态，支持快速增减
- [ ] 将所有识别过程产生的信息提供全局共享，能够被快速调用
- [ ] 支持定时回调能力，即需要支持类似crontab能力，用于体力定时刷图
- [ ] 支持配置
- [ ] 凌晨4点结算时应该可以快速恢复
- [ ] 因为热更新等情况导致中断应该能够恢复

## 架构规划

- 各个模块维持自己的逻辑，启用循环维持线程
- main函数入口准备全局工具，用asyncio启动各个模块
- 模块间竞争一个全局锁，获得锁的模块可以执行自己的逻辑，逻辑解释的时候应该恢复到主界面状态
- 用一个current来标记当前运行的模块，方便异常跳出时恢复控制权